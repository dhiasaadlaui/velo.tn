<app-velo-event-admin *ngIf="userService.getCurrentUser.name === 'admin'"></app-velo-event-admin>
<div style="margin-top: -30px;" *ngIf="userService.getCurrentUser.name != 'admin'">
    <div id="main-carousel" class="carousel slide" data-ride="carousel">
        <div class="carousel-inner">
            <div class="carousel-item active">
                <img style="height: 500px;" src="assets/images/banners/caouselevent.jpg" class="d-block w-100" alt="...">
                <div class="carousel-caption d-none d-md-block">
                    <h5>Rides & Events </h5>
                     <a href="#0" class="btn btn-info">MORE INFO</a>
                </div>
            </div>
            <div class="carousel-item">
                <img src="https://picsum.photos/1600/502" class="d-block w-100" alt="...">
                <div class="carousel-caption d-none d-md-block">
                    <h5>It is a long established </h5>
                     <a href="#0" class="btn btn-info">MORE INFO</a>
                </div>
            </div>


        </div>
        <a class="carousel-control-prev" href="#main-carousel" role="button" data-slide="prev">
            <i class="fa fa-angle-left" aria-hidden="true"></i>
            <span class="sr-only">Previous</span>
        </a>
        <a class="carousel-control-next" href="#main-carousel" role="button" data-slide="next">
            <i class="fa fa-angle-right" aria-hidden="true"></i>
            <span class="sr-only">Next</span>
        </a>
    </div>
    <section class="home__form">
        <div class="container">
            <div class="home__form-container text-center">
                <h3>Get In Touch</h3>
                <p>Please get in touch with our support team and expect a response within 24 working hours.</p>
                <form>
                    <div class="row">
                        <div class="col">
                            <div class="form-group">
                                <ejs-combobox id='comboelement' [dataSource]='dropDownChoiceEvents' [(value)]='comboBoxValue'  [fields]='fields'  placeholder = 'Select a game'></ejs-combobox>

                            </div>
                        </div>
                        <div class="col">

                            <div class="form-group">
                                <ejs-combobox id='comboelement' [dataSource]='categoriesDropDown' [(value)]='comboBoxCategory'   [fields]='fields'  placeholder = 'Select a game'></ejs-combobox>
                            </div>
                        </div>
                        <div class="col-2">
                            <button ejs-button (click)="showMyEvents()">Search</button>
                        </div>
                    </div>
                </form>
            </div>
        </div>
    </section>

    <div class="wrapper">
        <div>
            <h1 class="main-title">
                <span>Calendar View</span>
            </h1>
        </div>
    </div>
    <!-- Page Content -->
    <div class="container">
        <div class="row">
            <div class="col-md-12 mb-5">
                <div class='e-btn-group'>
                    <button ejs-button [routerLink]="['/addEvent']">Add Special Event</button>
                    <button ejs-button [routerLink]="['/eventDetails', eventToShowDetails?.id ]">Show
                        EventDetails</button>
                </div>
            </div>
        </div>
        <!-- Content Row -->
        <div class="row" *ngIf="showCalendar">
            <div class="col-md-12 mb-5">
                <div class="card h-100">
                    <ejs-schedule width='100%' height='650px' id="Schedule1" #scheduleObj
                        [eventSettings]='eventSettings' [currentView]='setView' (popupClose)="onPopupClose($event)"
                        (eventRendered)="oneventRendered($event)" (popupOpen)="onPopupOpen($event)"
                        (actionBegin)="onActionBegin($event)">
                    </ejs-schedule>
                </div>
            </div>
        </div>
        <!-- /.row -->
        <div class="container" *ngIf="!showCalendar">
            <div class="row">
                <div class="col-md-4 mb-5">
                    <div class="profile-card">
                        <div class="top-section">
                            <i class="message fas fa-envelope"></i>
                            <i class="notif fas fa-bell"></i>
                            <div class="pic">
                                <img src="../../assets/images/banners/eventTest.jpg" alt="picture">
                            </div>
                            <div class="name">darkcode</div>
                            <div class="tag">@darkcodeline</div>
                        </div>
                        <div class="bottom-section">
                            <div class="social-media">
                                <a href="#"><i class="fab fa-facebook"></i></a>
                                <a href="#"><i class="fab fa-twitter"></i></a>
                                <a href="#"><i class="fab fa-instagram"></i></a>
                                <a href="#"><i class="fas fa-link"></i></a>
                            </div>
                            <div class="videos">190 <span>Videos</span></div>
                            <div class="border"></div>
                            <div class="subscribers">204K <span>Subscribers</span></div>
                            <div class="border"></div>
                            <div class="views">7.3M <span>Views</span></div>
                        </div>
                    </div>
                </div>
                <div class="col-md-4 mb-5">
                    <div class="profile-card">
                        <div class="top-section">
                            <i class="message fas fa-envelope"></i>
                            <i class="notif fas fa-bell"></i>
                            <div class="pic">
                                <img src="../../assets/images/banners/eventTest.jpg" alt="picture">
                            </div>
                            <div class="name">darkcode</div>
                            <div class="tag">@darkcodeline</div>
                        </div>
                        <div class="bottom-section">
                            <div class="social-media">
                                <a href="#"><i class="fab fa-facebook"></i></a>
                                <a href="#"><i class="fab fa-twitter"></i></a>
                                <a href="#"><i class="fab fa-instagram"></i></a>
                                <a href="#"><i class="fas fa-link"></i></a>
                            </div>
                            <div class="videos">190 <span>Videos</span></div>
                            <div class="border"></div>
                            <div class="subscribers">204K <span>Subscribers</span></div>
                            <div class="border"></div>
                            <div class="views">7.3M <span>Views</span></div>
                        </div>
                    </div>
                </div>
                <div class="col-md-4 mb-5">
                    <div class="profile-card">
                        <div class="top-section">
                            <i class="message fas fa-envelope"></i>
                            <i class="notif fas fa-bell"></i>
                            <div class="pic">
                                <img src="../../assets/images/banners/eventTest.jpg" alt="picture">
                            </div>
                            <div class="name">darkcode</div>
                            <div class="tag">@darkcodeline</div>
                        </div>
                        <div class="bottom-section">
                            <div class="social-media">
                                <a href="#"><i class="fab fa-facebook"></i></a>
                                <a href="#"><i class="fab fa-twitter"></i></a>
                                <a href="#"><i class="fab fa-instagram"></i></a>
                                <a href="#"><i class="fas fa-link"></i></a>
                            </div>
                            <div class="videos">190 <span>Videos</span></div>
                            <div class="border"></div>
                            <div class="subscribers">204K <span>Subscribers</span></div>
                            <div class="border"></div>
                            <div class="views">7.3M <span>Views</span></div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="wrapper">
            <div>
                <h1 class="main-title">
                    <span>Search Table View</span>
                </h1>
            </div>
        </div>

        <div class="control-section">
            <ejs-grid #grid [dataSource]='myEvents' allowPaging='true' [pageSettings]='pageSettings'
                [editSettings]='editSettings' [toolbar]='toolbar' (rowSelected)='rowSelected($event)'
                allowFiltering='true' (actionBegin)='actionBegin($event)' (actionComplete)='actionComplete($event)'
                (toolbarClick)='handleToolBarClicks($event)'>
                <e-columns>
                    <e-column field='event_name' headerText='Event Name' width='120' textAlign='Right'></e-column>
                    <e-column field='distance' headerText='Distance' width='120'></e-column>
                    <e-column field='location' headerText='Location' width='120' format='C2' textAlign='Right'>
                    </e-column>
                    <e-column field='start_date' headerText='Start Date' width='150'></e-column>
                    <e-column field='end_date' headerText='End Date' width='150'></e-column>
                    <e-column field='is_theme' headerText='Theme' width='150'></e-column>
                    <e-column field='is_archived' headerText='Archived' head width='150'></e-column>
                    <e-column field='subscribers.length' headerText='subscribersCount' width='150'></e-column>
                    <e-column field='category.category_name' headerText='Category Name' width='150'></e-column>
                </e-columns>
                <ng-template #editSettingsTemplate let-data>
                    <div [formGroup]="orderForm">
                        <div class="form-row">
                            <div class="form-group col-md-6">
                                <div class="e-float-input e-control-wrapper"
                                    [ngClass]="{'e-error': event_name.invalid && (event_name.dirty || event_name.touched)}">
                                    <input formControlName="event_name" data-msg-containerid='event_nameError'
                                        id="event_name" name="event_name" type="text"
                                        [attr.disabled]="!data.isAdd ? '' : null">
                                    <span class="e-float-line"></span>
                                    <label class="e-float-text e-label-top" for="event_name"> event_name</label>
                                </div>
                                <div id="event_nameError"
                                    [style.visibility]='((event_name.invalid && (event_name.dirty || event_name.touched)) || (event_name.invalid && submitClicked))? "visible": "hidden"'>
                                    <label class="e-error" for="event_name" id="event_name-info"
                                        style="display: block;">*event_nameis required</label>
                                </div>
                            </div>
                            <div class="form-group col-md-6">
                                <div class="e-float-input e-control-wrapper"
                                    [ngClass]="{'e-error': distance.invalid && (distance.dirty || distance.touched)}">
                                    <input formControlName="distance" data-msg-containerid='distanceError' id="distance"
                                        name="distance" type="text">
                                    <span class="e-float-line"></span>
                                    <label class="e-float-text e-label-top" for="distance">distance</label>
                                </div>
                                <div id="distanceError"
                                    [style.visibility]='((distance.invalid && (distance.dirty || distance.touched)) || (distance.invalid && submitClicked))? "visible": "hidden"'>
                                    <label class="e-error" for="distance" id="distance-info"
                                        style="display: block;">*distance is required</label>
                                </div>
                            </div>
                            <div class="form-group col-md-6">
                                <div class="e-float-input e-control-wrapper"
                                    [ngClass]="{'e-error': location.invalid && (location.dirty || location.touched)}">
                                    <input formControlName="location" data-msg-containerid='locationError' id="location"
                                        name="location" type="text">
                                    <span class="e-float-line"></span>
                                    <label class="e-float-text e-label-top" for="location">location</label>
                                </div>
                                <div id="locationError"
                                    [style.visibility]='((location.invalid && (location.dirty || location.touched)) || (location.invalid && submitClicked))? "visible": "hidden"'>
                                    <label class="e-error" for="location" id="location-info"
                                        style="display: block;">*location is required</label>
                                </div>
                            </div>
                            <div class="form-group col-md-6">
                                <div class="e-float-input e-control-wrapper"
                                    [ngClass]="{'e-error': start_date.invalid && (start_date.dirty || start_date.touched)}">
                                    <ejs-datetimepicker placeholder='Start date' formControlName="start_date"
                                        id="datepicker" [min]='minDate' data-msg-containerid='start_dateError'
                                        id="start_date" name="start_date" type="Date"></ejs-datetimepicker>
                                    <span class="e-float-line"></span>
                                </div>
                                <div id="start_dateError"
                                    [style.visibility]='((start_date.invalid && (start_date.dirty || start_date.touched)) || (start_date.invalid && submitClicked))? "visible": "hidden"'>
                                    <label class="e-error" for="start_date" id="start_date-info"
                                        style="display: block;">*start_date is required</label>
                                </div>
                            </div>
                            <div class="form-group col-md-6">
                                <div class="e-float-input e-control-wrapper"
                                    [ngClass]="{'e-error': end_date.invalid && (end_date.dirty || end_date.touched)}">
                                    <ejs-datetimepicker placeholder='Start date' formControlName="end_date"
                                        id="datepicker" [min]='minDate' data-msg-containerid='end_dateError'
                                        id="end_date" name="end_date" type="Date"></ejs-datetimepicker>
                                </div>
                                <div id="end_dateError"
                                    [style.visibility]='((end_date.invalid && (end_date.dirty || end_date.touched)) || (end_date.invalid && submitClicked))? "visible": "hidden"'>
                                    <label class="e-error" for="end_date" id="end_date-info"
                                        style="display: block;">*end_date is required</label>
                                </div>
                            </div>
                            <div class="form-group col-md-6">
                                <div class="e-float-input e-control-wrapper"
                                    [ngClass]="{'e-error': is_theme.invalid && (is_theme.dirty || is_theme.touched)}">
                                    <input formControlName="is_theme" data-msg-containerid='is_themeError' id="is_theme"
                                        name="is_theme" type="text">
                                    <span class="e-float-line"></span>
                                    <label class="e-float-text e-label-top" for="is_theme">is_theme</label>
                                </div>
                                <div id="is_themeError"
                                    [style.visibility]='((is_theme.invalid && (is_theme.dirty || is_theme.touched)) || (is_theme.invalid && submitClicked))? "visible": "hidden"'>
                                    <label class="e-error" for="is_theme" id="is_theme-info"
                                        style="display: block;">*end_date is required</label>
                                </div>
                            </div>
                            <div class="form-group col-md-6">
                                <div class="e-float-input e-control-wrapper">
                                    <ejs-checkbox formControlName="is_archived" data-msg-containerid='is_archivedError'
                                        id="is_archived" [checked]="selectedEvent?.is_archived" label="Archived"
                                        name="is_archived" type="text"></ejs-checkbox>
                                    <span class="e-float-line"></span>
                                </div>
                            </div>
                        </div>
                    </div>
                </ng-template>
            </ejs-grid>
        </div>
        <!-- /.row -->
        <div class="row">
            <div class="col-md-8 mb-5">
                <h2>What We Do</h2>
                <hr>
                <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit. A deserunt neque tempore recusandae animi
                    soluta quasi? Asperiores rem dolore eaque vel, porro, soluta unde debitis aliquam laboriosam.
                    Repellat
                    explicabo, maiores!</p>
                <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Omnis optio neque consectetur consequatur
                    magni
                    in nisi, natus beatae quidem quam odit commodi ducimus totam eum, alias, adipisci nesciunt
                    voluptate.
                    Voluptatum.</p>
                <a type="button" class="btn btn-primary" data-toggle="modal" data-target="#exampleModalCenter">Call to
                    Action &raquo;</a>
            </div>
            <div class="col-md-4 mb-5">
                <h2>Contact Us</h2>
                <hr>
                <address>
                    <strong>Start Bootstrap</strong>
                    <br>3481 Melrose Place
                    <br>Beverly Hills, CA 90210
                    <br>
                </address>
                <address>
                    <abbr title="Phone">P:</abbr>
                    (123) 456-7890
                    <br>
                    <abbr title="Email">E:</abbr>
                    <a href="mailto:#">name@example.com</a>
                </address>
            </div>
        </div>
    </div>
    <!-- /.container -->

    <!-- Footer -->
    <footer class="py-5 bg-dark">
        <div class="container">
            <p class="m-0 text-center text-white">Copyright &copy; Your Website 2020</p>
        </div>
        <!-- /.container -->
    </footer>


</div>
<ejs-toast #element [position]='position'>
    <ng-template #title>
        <div>{{toastMsg.msgTitle}}</div>
    </ng-template>
    <ng-template #content>
        <div>{{toastMsg.msgBody}}</div>
    </ng-template>
</ejs-toast>